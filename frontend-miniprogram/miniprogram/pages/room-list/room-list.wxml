<!--room-list.wxml-->
<navigation-bar title="æˆ‘çš„æˆ¿é—´" back="{{true}}" color="black" background="#FFF"></navigation-bar>

<scroll-view class="scrollarea" scroll-y type="list" enable-back-to-top="{{true}}" refresher-enabled="{{true}}" refresher-triggered="{{loading}}" bindrefresherrefresh="onPullDownRefresh">
  <view class="container">
    <!-- æˆ¿é—´åˆ—è¡¨ -->
    <view class="room-list" wx:if="{{rooms.length > 0}}">
      <view 
        class="room-item" 
        wx:for="{{rooms}}" 
        wx:key="room.id"
        data-code="{{item.room.code}}"
        bindtap="onRoomTap"
      >
        <view class="room-item-content">
          <view class="room-item-left">
            <view class="room-item-info">
              <text class="room-item-owner-label">æˆ¿ä¸»: </text>
              <text class="room-item-owner-name">{{item.room.owner.username}}</text>
            </view>
            <view class="room-item-bottom">
              <text class="room-item-member-info">{{item.memberInfo}}</text>
              <view class="room-status {{item.room.status === 'active' ? 'status-active' : 'status-closed'}}">
                {{item.room.status === 'active' ? 'å¼€å¯ä¸­' : 'å…³é—­'}}
              </view>
              <view class="room-item-owner-badge" wx:if="{{item.isOwner}}">æˆ‘çš„</view>
            </view>
          </view>
          <view class="room-item-right">
            <text class="room-item-code">
              <text class="room-item-code-label">æˆ¿é—´å·: </text>
              <text class="room-item-code-value">{{item.room.code}}</text>
            </text>
            <text class="room-item-time">{{item.formattedCreatedAt}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:else>
      <view class="empty-icon-wrapper">
        <text class="empty-icon">ğŸ€„</text>
      </view>
      <text class="empty-text">è¿˜æ²¡æœ‰æˆ¿é—´è®°å½•</text>
      <text class="empty-desc">è¿‘3ä¸ªæœˆå†…åˆ›å»ºæˆ–åŠ å…¥çš„æˆ¿é—´å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</text>
    </view>
  </view>
</scroll-view>

