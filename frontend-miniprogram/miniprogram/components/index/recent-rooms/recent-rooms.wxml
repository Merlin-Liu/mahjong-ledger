<!--recent-rooms.wxml-->
<view class="action-card" wx:if="{{userId > 0}}">
  <view class="card-header">
    <text class="card-title">æœ€è¿‘çš„æˆ¿é—´</text>
  </view>
  
  <!-- æˆ¿é—´åˆ—è¡¨ -->
  <view class="recent-rooms" wx:if="{{rooms.length > 0}}">
    <view 
      class="recent-room-item" 
      wx:for="{{rooms}}" 
      wx:key="id"
      data-code="{{item.room.code}}"
      bindtap="onRoomTap"
    >
      <view class="room-item-content">
        <view class="room-item-left">
          <view class="room-item-info">
            <text class="room-item-owner-label">æˆ¿ä¸»: </text>
            <text class="room-item-owner-name">{{item.room.owner.username}}</text>
          </view>
          <view class="room-item-bottom">
            <text class="room-item-member-info">{{item.memberInfo}}</text>
            <view class="room-item-owner-badge" wx:if="{{item.isOwner}}">æˆ‘çš„</view>
          </view>
        </view>
        <view class="room-item-right">
          <text class="room-item-code">
            <text class="room-item-code-label">æˆ¿é—´å·: </text>
            <text class="room-item-code-value">{{item.room.code}}</text>
          </text>
          <text class="room-item-time">{{item.formattedCreatedAt}}</text>
        </view>
      </view>
    </view>

    <!-- æŸ¥çœ‹æ›´å¤šæŒ‰é’® -->
    <view class="view-more-wrapper" wx:if="{{rooms.length > 0}}">
      <button class="btn-view-more" bindtap="onViewMore">
        <text>æŸ¥çœ‹æ›´å¤šæˆ¿é—´</text>
        <text class="btn-view-more-arrow">â†’</text>
      </button>
    </view>
  </view>
  
  <!-- ç©ºçŠ¶æ€ -->
  <view class="recent-rooms-empty" wx:else>
    <view class="empty-icon-wrapper">
      <text class="empty-icon">ğŸ€„</text>
    </view>
    <text class="empty-title">è¿˜æ²¡æœ‰æˆ¿é—´è®°å½•</text>
    <text class="empty-tip">å¿«å»å¼€ä¸€ä¸ªæˆ¿é—´ï¼Œå¼€å§‹è®°å½•å§ï¼</text>
  </view>
</view>

